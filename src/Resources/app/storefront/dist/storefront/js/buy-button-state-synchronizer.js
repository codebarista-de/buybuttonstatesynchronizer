(window.webpackJsonp=window.webpackJsonp||[]).push([["buy-button-state-synchronizer"],{GnWm:function(t,n,e){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,n){return!n||"object"!==o(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,n){return(s=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}e.d(n,"a",(function(){return y}));var l,b,c,y=function(n){function e(){return i(this,e),r(this,a(e).apply(this,arguments))}var o,l,b;return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&s(t,n)}(e,n),o=e,b=[{key:"disableBuyButton",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=document.getElementsByClassName("btn-buy").item(0);null!=o?(o.setAttribute("".concat(t,"-buy-button-disabled"),""),null!=e&&(window.buyButtonStateSynchronizerActions||(window.buyButtonStateSynchronizerActions={}),window.buyButtonStateSynchronizerActions[t]={label:n,callback:e})):console.warn("Cannot disable buy button: No element with class btn-buy")}},{key:"enableBuyButton",value:function(t){var n=document.getElementsByClassName("btn-buy").item(0);null!=n?(n.removeAttribute("".concat(t,"-buy-button-disabled")),window.buyButtonStateSynchronizerActions&&delete window.buyButtonStateSynchronizerActions[t]):console.warn("Cannot enable buy button: No element with class btn-buy")}}],(l=[{key:"init",value:function(){window.buyButtonStateSynchronizerActions||(window.buyButtonStateSynchronizerActions={}),this.isDisabled=this.isBuyButtonDisabled(),this.buyButtonObserver=new MutationObserver(this.buyButtonNodeChanged.bind(this)),this.startObservingBuyButtonAttributeChanges(),setTimeout(this.buyButtonNodeChanged.bind(this)),this.options.showDialogInsteadOfDisableButton&&(this.el.addEventListener("click",this.onBuyButtonClicked.bind(this)),this.el.disabled=!1)}},{key:"buyButtonNodeChanged",value:function(){this.isDisabled=this.isBuyButtonDisabled(),this.options.showDialogInsteadOfDisableButton||(this.stopObservingBuyButtonAttributeChanges(),this.el.disabled=this.isDisabled,this.startObservingBuyButtonAttributeChanges())}},{key:"startObservingBuyButtonAttributeChanges",value:function(){this.buyButtonObserver.observe(this.el,{attributes:!0})}},{key:"stopObservingBuyButtonAttributeChanges",value:function(){this.buyButtonObserver.disconnect()}},{key:"isBuyButtonDisabled",value:function(){var t=!0,n=!1,e=void 0;try{for(var o,i=this.el.attributes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)if(o.value.name.endsWith("-buy-button-disabled"))return!0}catch(t){n=!0,e=t}finally{try{t||null==i.return||i.return()}finally{if(n)throw e}}return!1}},{key:"onBuyButtonClicked",value:function(n){if(!this.isDisabled)return!0;var e,o=[],i=function(n){var e=window.buyButtonStateSynchronizerActions[n];if(null!=e.label){var i=document.createElement("button");i.classList.add("btn","btn-primary"),i.innerText=e.label,i.onclick=function(n){t("#buy-button-state-synchronizer-modal").modal("hide"),e.callback(n)},o.push(i)}};for(var u in window.buyButtonStateSynchronizerActions)i(u);if(o.length>0)o.push(document.getElementById("buy-button-state-synchronizer-modal-cancel-btn")),(e=document.getElementById("buy-button-state-synchronizer-modal-actions")).replaceChildren.apply(e,o);else for(var u in window.buyButtonStateSynchronizerActions){var r=window.buyButtonStateSynchronizerActions[u];if(null!=r.callback)return r.callback(),n.preventDefault(),!1}return t("#buy-button-state-synchronizer-modal").modal("show"),n.preventDefault(),!1}}])&&u(o.prototype,l),b&&u(o,b),e}(e("FGIj").a);c={showDialogInsteadOfDisableButton:null},(b="options")in(l=y)?Object.defineProperty(l,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[b]=c}).call(this,e("UoTJ"))},RJX0:function(t,n,e){"use strict";e.r(n);var o=e("GnWm");window.PluginManager.register("BuyButtonStateSynchronizer",o.a,"[data-buy-button-state-synchronizer]")}},[["RJX0","runtime","vendor-node","vendor-shared"]]]);