{% sw_extends '@Storefront/storefront/page/product-detail/buy-widget-form.html.twig' %}


{% block page_product_detail_buy_form_inner %}
    {% if config('BaristaBuyButtonStateSynchronizer').config.showDialogInsteadOfDisableButton %}
        <dialog id="buy-button-state-synchronizer-modal" data-cancel-btn-label="{{ 'buybuttonstate.cancel' | trans }}">
            <div class="modal-content">
                <div class="modal-body">
                    <p>{{ 'buybuttonstate.product-not-ready' | trans }}</p>
                </div>
                <div id="buy-button-state-synchronizer-modal-actions" class="modal-footer">
                    <div id="buy-button-state-synchronizer-modal-cancel-btn">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal">
                            {{ 'buybuttonstate.cancel' | trans }}
                        </button>
                    </div>
                </div>
            </div>
        </dialog>
    {% endif %}
    {{ parent() }}
{% endblock %}

{% block page_product_detail_buy_button %}
    <div class="d-grid">
        <button title="{{ "detail.addProduct"|trans|striptags }}"
                aria-label="{{ "detail.addProduct"|trans|striptags }}"
                class="btn btn-primary btn-buy"
                disabled
                data-buy-button-state-synchronizer
                data-buy-button-state-synchronizer-options='{
                    "showDialogInsteadOfDisableButton": "{{ config('BaristaBuyButtonStateSynchronizer').config.showDialogInsteadOfDisableButton }}"
                }'>
            {{ "detail.addProduct"|trans|sw_sanitize }}
        </button>
    </div>
{% endblock %}
